{"ast":null,"code":"import _classCallCheck from\"C:\\\\wamp64\\\\www\\\\react-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\wamp64\\\\www\\\\react-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\wamp64\\\\www\\\\react-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\wamp64\\\\www\\\\react-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"C:\\\\wamp64\\\\www\\\\react-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\wamp64\\\\www\\\\react-test\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from'react';import{Form}from'react-bootstrap';var GenreFilter=/*#__PURE__*/function(_React$Component){_inherits(GenreFilter,_React$Component);function GenreFilter(props){var _this;_classCallCheck(this,GenreFilter);_this=_possibleConstructorReturn(this,_getPrototypeOf(GenreFilter).call(this,props));_this.genre=_this.genre.bind(_assertThisInitialized(_this));_this.getData=_this.getData.bind(_assertThisInitialized(_this));_this.state={error:null,isLoaded:false,items:[]};return _this;}_createClass(GenreFilter,[{key:\"componentDidMount\",value:function componentDidMount(){this.getData();}},{key:\"getData\",value:function getData(){var _this2=this;var type=this.props.type;if(type==\"series\")var typeEndpoint=\"tv\";else var typeEndpoint=\"movie\";var endpoint=\"genre/\"+typeEndpoint+\"/list\";var url=\"https://api.themoviedb.org/3/\"+endpoint+\"?api_key=601b3e84fdc281626e092faf669205b5&language=en-US\";fetch(url).then(function(res){return res.json();}).then(function(result){_this2.setState({isLoaded:true,items:result.genres});},function(error){_this2.setState({isLoaded:true,error:error});});}},{key:\"genre\",value:function genre(e){var value=e.target.value;this.props.onChange(value);}},{key:\"render\",value:function render(){var _this3=this;var items=this.state.items;var options=items.map(function(item,index){return _this3.props.value==item.id?React.createElement(\"option\",{key:item.id,value:item.id,selected:true},item.name):React.createElement(\"option\",{key:item.id,value:item.id},item.name);});return React.createElement(Form.Group,null,React.createElement(Form.Label,null,\"Genre\"),React.createElement(Form.Control,{as:\"select\",onChange:this.genre},React.createElement(\"option\",{value:\"All\",selected:true},\"All\"),options));}}]);return GenreFilter;}(React.Component);export default GenreFilter;","map":{"version":3,"sources":["C:/wamp64/www/react-test/src/GenreFilter.js"],"names":["React","Form","GenreFilter","props","genre","bind","getData","state","error","isLoaded","items","type","typeEndpoint","endpoint","url","fetch","then","res","json","result","setState","genres","e","value","target","onChange","options","map","item","index","id","name","Component"],"mappings":"osBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,IAAR,KAAmB,iBAAnB,C,GACMC,CAAAA,W,iFACF,qBAAYC,KAAZ,CAAmB,6CACjB,6EAAMA,KAAN,GACA,MAAKC,KAAL,CAAa,MAAKA,KAAL,CAAWC,IAAX,+BAAb,CACA,MAAKC,OAAL,CAAe,MAAKA,OAAL,CAAaD,IAAb,+BAAf,CACA,MAAKE,KAAL,CAAa,CACXC,KAAK,CAAE,IADI,CAEXC,QAAQ,CAAE,KAFC,CAGXC,KAAK,CAAE,EAHI,CAAb,CAJiB,aASlB,C,qFAEmB,CAChB,KAAKJ,OAAL,GACD,C,yCAGH,iBACI,GAAIK,CAAAA,IAAI,CAAG,KAAKR,KAAL,CAAWQ,IAAtB,CACA,GAAGA,IAAI,EAAI,QAAX,CACE,GAAIC,CAAAA,YAAY,CAAG,IAAnB,CADF,IAGE,IAAIA,CAAAA,YAAY,CAAG,OAAnB,CACF,GAAIC,CAAAA,QAAQ,CAAG,SAAWD,YAAX,CAA0B,OAAzC,CACA,GAAIE,CAAAA,GAAG,CAAG,gCAAkCD,QAAlC,CAA6C,0DAAvD,CACAE,KAAK,CAACD,GAAD,CAAL,CACGE,IADH,CACQ,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADX,EAEGF,IAFH,CAGI,SAACG,MAAD,CAAY,CACV,MAAI,CAACC,QAAL,CAAc,CACZX,QAAQ,CAAE,IADE,CAEZC,KAAK,CAAES,MAAM,CAACE,MAFF,CAAd,EAID,CARL,CASI,SAACb,KAAD,CAAW,CACT,MAAI,CAACY,QAAL,CAAc,CACZX,QAAQ,CAAE,IADE,CAEZD,KAAK,CAALA,KAFY,CAAd,EAID,CAdL,EAgBD,C,oCAEGc,C,CACN,CACE,GAAIC,CAAAA,KAAK,CAAGD,CAAC,CAACE,MAAF,CAASD,KAArB,CACA,KAAKpB,KAAL,CAAWsB,QAAX,CAAoBF,KAApB,EACD,C,uCAEQ,oBACEb,CAAAA,KADF,CACW,KAAKH,KADhB,CACEG,KADF,CAEL,GAAMgB,CAAAA,OAAO,CAAGhB,KAAK,CAACiB,GAAN,CAAU,SAACC,IAAD,CAAOC,KAAP,QACtB,CAAA,MAAI,CAAC1B,KAAL,CAAWoB,KAAX,EAAoBK,IAAI,CAACE,EAAzB,CACA,8BACE,GAAG,CAAEF,IAAI,CAACE,EADZ,CAEE,KAAK,CAAEF,IAAI,CAACE,EAFd,CAGE,QAAQ,KAHV,EAKCF,IAAI,CAACG,IALN,CADA,CASA,8BACE,GAAG,CAAEH,IAAI,CAACE,EADZ,CAEE,KAAK,CAAEF,IAAI,CAACE,EAFd,EAICF,IAAI,CAACG,IAJN,CAVsB,EAAV,CAAhB,CAiBF,MACE,qBAAC,IAAD,CAAM,KAAN,MACE,oBAAC,IAAD,CAAM,KAAN,cADF,CAEE,oBAAC,IAAD,CAAM,OAAN,EAAc,EAAE,CAAC,QAAjB,CAA0B,QAAQ,CAAE,KAAK3B,KAAzC,EACE,8BAAQ,KAAK,CAAC,KAAd,CAAoB,QAAQ,KAA5B,QADF,CAEGsB,OAFH,CAFF,CADF,CASD,C,yBA7EqB1B,KAAK,CAACgC,S,EAgFhC,cAAe9B,CAAAA,WAAf","sourcesContent":["import React from 'react';\r\nimport {Form} from 'react-bootstrap';\r\nclass GenreFilter extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.genre = this.genre.bind(this);\r\n      this.getData = this.getData.bind(this);\r\n      this.state = {\r\n        error: null,\r\n        isLoaded: false,\r\n        items: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getData();\r\n      }  \r\n\r\n    getData()\r\n    {\r\n        var type = this.props.type;\r\n        if(type == \"series\")\r\n          var typeEndpoint = \"tv\";\r\n        else\r\n          var typeEndpoint = \"movie\";\r\n        var endpoint = \"genre/\" + typeEndpoint + \"/list\";\r\n        var url = \"https://api.themoviedb.org/3/\" + endpoint + \"?api_key=601b3e84fdc281626e092faf669205b5&language=en-US\";\r\n        fetch(url)\r\n          .then(res => res.json())\r\n          .then(\r\n            (result) => {\r\n              this.setState({\r\n                isLoaded: true,\r\n                items: result.genres,\r\n              });\r\n            },\r\n            (error) => {\r\n              this.setState({\r\n                isLoaded: true,\r\n                error\r\n              });\r\n            }\r\n          )\r\n      }\r\n  \r\n    genre(e)\r\n    {\r\n      var value = e.target.value;\r\n      this.props.onChange(value);\r\n    }\r\n    \r\n    render() {\r\n        const {items} = this.state;\r\n        const options = items.map((item, index) => (\r\n            this.props.value == item.id ?\r\n            <option\r\n              key={item.id}\r\n              value={item.id}\r\n              selected\r\n            >\r\n            {item.name}\r\n            </option>\r\n            :\r\n            <option\r\n              key={item.id}\r\n              value={item.id}\r\n            >\r\n            {item.name}\r\n            </option>\r\n          ));\r\n      return (\r\n        <Form.Group>\r\n          <Form.Label>Genre</Form.Label>\r\n          <Form.Control as=\"select\" onChange={this.genre}>\r\n            <option value=\"All\" selected>All</option>\r\n            {options}\r\n          </Form.Control>\r\n        </Form.Group>\r\n      )\r\n    }\r\n}\r\n\r\nexport default GenreFilter;"]},"metadata":{},"sourceType":"module"}